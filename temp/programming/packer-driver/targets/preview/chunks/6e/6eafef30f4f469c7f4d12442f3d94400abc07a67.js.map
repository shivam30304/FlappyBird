{"version":3,"sources":["file:///Users/shivam/Desktop/FlappyBird/assets/Scripts/Ground.ts"],"names":["_decorator","Component","director","Node","UITransform","Vec3","Canvas","find","ccclass","property","Ground","type","tooltip","groundWidth1","groundWidth2","groundWidth3","tempStartLocation1","tempStartLocation2","tempStartLocation3","game","gameSpeed","onLoad","getComponent","startUp","ground1","width","ground2","ground3","x","setPosition","update","deltaTime","speed","position","scene","getScene","canvas","getComponentInChildren"],"mappings":"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","sourcesContent":["import { _decorator, Component, director, Node , UITransform, Vec3, Canvas, find} from 'cc';\nconst { ccclass, property } = _decorator;\n\n\n@ccclass('Ground')\nexport class Ground extends Component {\n    @property({\n        type:Node,\n        tooltip:'Ground 1 is here'\n    })\n    public ground1 : Node;\n\n    @property({\n        type:Node,\n        tooltip:'Ground 1 is here'\n    })\n    public ground2 : Node;\n\n    @property({\n        type:Node,\n        tooltip:'Ground 1 is here'\n    })\n    public ground3 : Node;\n\n    // Create ground width variables\n    public groundWidth1 : number;\n    public groundWidth2 : number;\n    public groundWidth3 : number;\n\n    public tempStartLocation1 = new Vec3;\n    public tempStartLocation2 = new Vec3;\n    public tempStartLocation3 = new Vec3;\n\n    public game;\n    public gameSpeed : number;\n    protected onLoad(): void {\n        this.game = find('GameCtrl').getComponent('GameCtrl');\n        this.startUp();\n    }\n\n    startUp() {\n        this.groundWidth1 = this.ground1.getComponent(UITransform).width;\n        this.groundWidth2 = this.ground2.getComponent(UITransform).width;\n        this.groundWidth3 = this.ground3.getComponent(UITransform).width;\n\n        this.tempStartLocation1.x = 0;\n        this.tempStartLocation2.x = this.groundWidth1;\n        this.tempStartLocation3.x = this.groundWidth1 + this.groundWidth2;\n\n        this.ground1.setPosition(this.tempStartLocation1);\n        this.ground2.setPosition(this.tempStartLocation2);\n        this.ground3.setPosition(this.tempStartLocation3);\n    }\n    update(deltaTime: number) {\n        this.gameSpeed = this.game.speed;\n\n        this.tempStartLocation1 = this.ground1.position;\n        this.tempStartLocation2 = this.ground2.position;\n        this.tempStartLocation3 = this.ground3.position;\n\n        this.tempStartLocation1.x -= this.gameSpeed * deltaTime;\n        this.tempStartLocation2.x -= this.gameSpeed * deltaTime;\n        this.tempStartLocation3.x -= this.gameSpeed * deltaTime;\n\n        const scene = director.getScene();\n        const canvas = scene.getComponentInChildren(Canvas);\n\n        if (this.tempStartLocation1.x <= (0 - this.groundWidth1)) {\n            this.tempStartLocation1.x = canvas.getComponent(UITransform).width;\n        }\n\n        if (this.tempStartLocation2.x <= (0 - this.groundWidth2)) {\n            this.tempStartLocation2.x = canvas.getComponent(UITransform).width;\n        }\n\n        if (this.tempStartLocation3.x <= (0 - this.groundWidth3)) {\n            this.tempStartLocation3.x = canvas.getComponent(UITransform).width;\n        }\n\n        this.ground1.setPosition(this.tempStartLocation1);\n        this.ground2.setPosition(this.tempStartLocation2);\n        this.ground3.setPosition(this.tempStartLocation3);\n\n    }\n}\n\n"]}