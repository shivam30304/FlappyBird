{"version":3,"sources":["file:///Users/shivam/Desktop/FlappyBird/assets/Scripts/Bird.ts"],"names":["_decorator","CCFloat","Component","Vec3","Animation","tween","ccclass","property","Bird","type","tooltip","birdAnimation","birdLocation","hitSomething","onLoad","resetBird","getComponent","node","setPosition","fly","stop","position","to","jumpDuration","x","y","jumpHeight","easing","onUpdate","target","ratio","start","play","once","EventType","FINISHED"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,O,OAAAA,O;AAASC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;;;;;;;;;OAC1D;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;sBAGjBQ,I,WADZF,OAAO,CAAC,MAAD,C,UAEHC,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAACR,OADC;AAENS,QAAAA,OAAO,EAAE;AAFH,OAAD,C,UAMRH,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAACR,OADC;AAENS,QAAAA,OAAO,EAAC;AAFF,OAAD,C,2BARb,MACaF,IADb,SAC0BN,SAD1B,CACoC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAezBS,aAfyB;AAAA,eAgBzBC,YAhByB;AAAA,eAiBzBC,YAjByB;AAAA;;AAmBtBC,QAAAA,MAAM,GAAS;AACrB,eAAKC,SAAL;AACA,eAAKJ,aAAL,GAAqB,KAAKK,YAAL,CAAkBZ,SAAlB,CAArB;AACH;;AAEDW,QAAAA,SAAS,GAAG;AACR,eAAKH,YAAL,GAAoB,IAAIT,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAApB;AACA,eAAKc,IAAL,CAAUC,WAAV,CAAsB,KAAKN,YAA3B;AACA,eAAKC,YAAL,GAAoB,KAApB;AACH;;AAEDM,QAAAA,GAAG,GAAG;AACF,eAAKR,aAAL,CAAmBS,IAAnB;AAEAf,UAAAA,KAAK,CAAC,KAAKY,IAAL,CAAUI,QAAX,CAAL,CACKC,EADL,CACQ,KAAKC,YADb,EAC2B,IAAIpB,IAAJ,CAAS,KAAKc,IAAL,CAAUI,QAAV,CAAmBG,CAA5B,EAA+B,KAAKP,IAAL,CAAUI,QAAV,CAAmBI,CAAnB,GAAuB,KAAKC,UAA3D,EAAuE,CAAvE,CAD3B,EACsG;AAACC,YAAAA,MAAM,EAAG,QAAV;AAC9FC,YAAAA,QAAQ,EAAC,CAACC,MAAD,EAAcC,KAAd,KAA+B;AACpC,mBAAKb,IAAL,CAAUI,QAAV,GAAqBQ,MAArB;AACH;AAH6F,WADtG,EAMKE,KANL;AAOA,eAAKpB,aAAL,CAAmBqB,IAAnB;AACA,eAAKrB,aAAL,CAAmBsB,IAAnB,CAAwB7B,SAAS,CAAC8B,SAAV,CAAoBC,QAA5C,EAAsD,MAAM,CAC3D,CADD;AAEH;;AA3C+B,O;;;;;iBAKH,G;;;;;;;iBAMC,G","sourcesContent":["import { _decorator, CCFloat, Component, Node, Vec3, Animation, tween, easing } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Bird')\nexport class Bird extends Component {\n    @property({\n        type:CCFloat,\n        tooltip :'how high can they fly'\n    })\n    public jumpHeight : number = 2.5;\n\n    @property({\n        type:CCFloat,\n        tooltip:'how long can they fly'\n    })\n    public jumpDuration: number = 3.0;\n\n\n    \n    public birdAnimation : Animation;\n    public birdLocation : Vec3;\n    public hitSomething : boolean;\n\n    protected onLoad(): void {\n        this.resetBird();\n        this.birdAnimation = this.getComponent(Animation);\n    }\n\n    resetBird() {\n        this.birdLocation = new Vec3(0, 0, 0);\n        this.node.setPosition(this.birdLocation);\n        this.hitSomething = false;\n    }\n\n    fly() {\n        this.birdAnimation.stop();\n\n        tween(this.node.position)\n            .to(this.jumpDuration, new Vec3(this.node.position.x, this.node.position.y + this.jumpHeight, 0), {easing : \"smooth\",\n                onUpdate:(target:Vec3, ratio:number) => {\n                    this.node.position = target;\n                }\n            })\n            .start();\n        this.birdAnimation.play();\n        this.birdAnimation.once(Animation.EventType.FINISHED, () => {\n        });\n    }\n}\n\n"]}