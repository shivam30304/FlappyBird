{"version":3,"sources":["file:///Users/shivam/Desktop/FlappyBird/assets/Scripts/Results.ts"],"names":["_decorator","Component","find","Label","ccclass","property","Results","type","maxScore","currentScore","game","onLoad","getComponent","updateScore","num","scoreLabel","string","checkScore","resetScore","hideResults","addScore","changeSpeed","showResults","Math","max","highScore","resultEnd","node","active"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;;;;;;;;;OAChC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;yBAKjBM,O,WADZF,OAAO,CAAC,SAAD,C,UAEHC,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEJ;AADA,OAAD,C,UAKRE,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEJ;AADA,OAAD,C,UAKRE,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEJ;AADA,OAAD,C,2BAZb,MACaG,OADb,SAC6BL,SAD7B,CACuC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAgBnCO,QAhBmC,GAgBhB,CAhBgB;AAAA,eAiBnCC,YAjBmC;AAAA,eAmB5BC,IAnB4B;AAAA;;AAqBzBC,QAAAA,MAAM,GAAS;AACrB,eAAKD,IAAL,GAAYR,IAAI,CAAC,UAAD,CAAJ,CAAiBU,YAAjB,CAA8B,UAA9B,CAAZ;AACH;;AAEDC,QAAAA,WAAW,CAACC,GAAD,EAAc;AACrB,eAAKL,YAAL,GAAoBK,GAApB;AACA,eAAKC,UAAL,CAAgBC,MAAhB,GAA0B,KAAK,KAAKP,YAApC;AACH;;AAEDQ,QAAAA,UAAU,GAAG;AACT,iBAAO,KAAKR,YAAL,GAAoB,CAA3B;AACH;;AAEDS,QAAAA,UAAU,GAAG;AACT,eAAKL,WAAL,CAAiB,CAAjB;AACA,eAAKM,WAAL;AACH;;AAEDC,QAAAA,QAAQ,GAAG;AACP,eAAKP,WAAL,CAAiB,KAAKJ,YAAL,GAAoB,CAArC;AACA,eAAKC,IAAL,CAAUW,WAAV,CAAsB,KAAKJ,UAAL,EAAtB;AACH;;AAEDK,QAAAA,WAAW,GAAG;AACV,eAAKd,QAAL,GAAgBe,IAAI,CAACC,GAAL,CAAS,KAAKf,YAAd,EAA4B,KAAKD,QAAjC,CAAhB;AAEA,eAAKiB,SAAL,CAAeT,MAAf,GAAyB,gBAAgB,KAAKR,QAA9C;AAEA,eAAKkB,SAAL,CAAeC,IAAf,CAAoBC,MAApB,GAA6B,IAA7B;AACA,eAAKH,SAAL,CAAeE,IAAf,CAAoBC,MAApB,GAA6B,IAA7B;AACH;;AAEDT,QAAAA,WAAW,GAAG;AACV,eAAKM,SAAL,CAAeE,IAAf,CAAoBC,MAApB,GAA6B,KAA7B;AACA,eAAKF,SAAL,CAAeC,IAAf,CAAoBC,MAApB,GAA6B,KAA7B;AACH;;AAxDkC,O","sourcesContent":["import { _decorator, Component, find, Label, Node } from 'cc';\nconst { ccclass, property } = _decorator;\nimport { Pipes } from './Pipes';\nimport { GameCtrl } from './GameCtrl';\n\n@ccclass('Results')\nexport class Results extends Component {\n    @property({\n        type: Label\n    })\n    public scoreLabel: Label;\n\n    @property({\n        type: Label\n    })\n    public highScore: Label;\n\n    @property({\n        type: Label\n    })\n    public resultEnd: Label;\n\n    maxScore: number = 0;\n    currentScore: number;\n\n    public game: GameCtrl;\n\n    protected onLoad(): void {\n        this.game = find('GameCtrl').getComponent('GameCtrl') as GameCtrl;\n    }\n\n    updateScore(num: number) {\n        this.currentScore = num;\n        this.scoreLabel.string = ('' + this.currentScore)\n    }\n\n    checkScore() {\n        return this.currentScore / 5;\n    }\n\n    resetScore() {\n        this.updateScore(0);\n        this.hideResults();\n    }\n\n    addScore() {\n        this.updateScore(this.currentScore + 1);\n        this.game.changeSpeed(this.checkScore());\n    }\n\n    showResults() {\n        this.maxScore = Math.max(this.currentScore, this.maxScore);\n\n        this.highScore.string = ('High Score ' + this.maxScore);\n\n        this.resultEnd.node.active = true;\n        this.highScore.node.active = true;\n    }\n\n    hideResults() {\n        this.highScore.node.active = false;\n        this.resultEnd.node.active = false;\n    }\n\n}\n\n"]}